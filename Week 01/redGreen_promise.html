<style> 
    .light{
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background-color: grey;
        margin-top: 20px;
    }

    .light.red{
        background-color: red;
    }
    .light.yellow{
        background-color: yellow;
    }
    .light.green{
        background-color: green;
    }
</style>
<div id="show">
    <div class="light"></div>
    <div class="light"></div>
    <div class="light"></div>
</div>
<script>
    function red() {
        var lights = document.getElementById('show').getElementsByTagName('div');
        for (var i = 0; i < lights.length; i++) {
            lights[i].className = 'light'
        }
        lights[0].className = 'light red'
    }
    function yellow() {
        var lights = document.getElementById('show').getElementsByTagName('div');
        for (var i = 0; i < lights.length; i++) {
            lights[i].className = 'light'
        }
        lights[1].className = 'light yellow'
    }

    function green() {
        var lights = document.getElementById('show').getElementsByTagName('div');
        for (var i = 0; i < lights.length; i++) {
            lights[i].className = 'light'
        }
        lights[2].className = 'light green'
    }

    function sleep(t) {
        return new Promise((resolve, reject) => {
            setTimeout(resolve, t);
        })
        
    }

    function go() {
        green()
        sleep(10000).then(() => {
            yellow()
            return sleep(2000);
        }).then(() => {
            red()
            return sleep(5000);
        }).then(go);
    }

    go();

</script>